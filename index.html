<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f7f9;
        }

        header {
            background-color: #333;
            color: #fff;
            padding: 20px;
            text-align: center;
        }

        .container {
            display: flex;
            height: calc(100vh - 60px); /* Adjust based on header height */
            margin-top: 20px;
        }

        .sidebar {
            width: 250px;
            background-color: #2c3e50;
            color: #fff;
            padding: 20px;
            box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);
        }

        .sidebar ul {
            list-style-type: none;
            padding: 0;
        }

        .sidebar ul li {
            margin-bottom: 15px;
        }

        .sidebar ul li button {
            background-color: #34495e;
            border: none;
            color: #fff;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            width: 100%;
            text-align: left;
            transition: background-color 0.3s;
        }

        .sidebar ul li button:hover {
            background-color: #1abc9c;
        }

        .sidebar ul li .active {
            background-color: #1abc9c;
        }

        .main-content {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
        }

        .main-content .btn-container {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }

        .main-content .btn-container button {
            background-color: #3498db;
            border: none;
            color: #fff;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .main-content .btn-container button:hover {
            background-color: #2980b9;
        }

        .table-container {
            display: flex;
            flex-direction: column;
        }

        .category-table, .aggregated-table {
            display: none;
            margin-top: 20px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th, td {
            padding: 10px;
            text-align: left;
        }

        th {
            color: #fff;
        }

        .category1 th {
            background-color: #2c3e50;
        }

        .category2 th {
            background-color: #1abc9c;
        }

        .category3 th {
            background-color: #3498db;
        }

        .aggregated th {
            background-color: #34495e;
        }
    </style>
</head>
<body>
    <header>
        <h1>Dashboard</h1>
    </header>

    <div class="container">
        <!-- Sidebar -->
        <div class="sidebar">
            <ul id="categories">
                <li><button id="all" class="active" onclick="showCombinedTables(1)">Tout</button></li>
                <li><button onclick="showCategories(1)">Catégorie 1</button></li>
                <li><button onclick="showCategories(2)">Catégorie 2</button></li>
                <li><button onclick="showCategories(3)">Catégorie 3</button></li>
            </ul>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Buttons under the header -->
            <div class="btn-container">
                <button onclick="showCombinedTables(1)">Bouton 1</button>
                <button onclick="showCombinedTables(2)">Bouton 2</button>
                <button onclick="showCombinedTables(3)">Bouton 3</button>
            </div>

            <!-- Aggregated Table Content -->
            <div id="aggregated-tables" class="table-container">
                <div id="aggregated1" class="aggregated-table">
                    <h3>Tableau Agrégé pour Bouton 1</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Item</th>
                                <th>Details</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Contenu dynamique sera ajouté par JavaScript -->
                        </tbody>
                    </table>
                </div>
                <div id="aggregated2" class="aggregated-table">
                    <h3>Tableau Agrégé pour Bouton 2</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Item</th>
                                <th>Details</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Contenu dynamique sera ajouté par JavaScript -->
                        </tbody>
                    </table>
                </div>
                <div id="aggregated3" class="aggregated-table">
                    <h3>Tableau Agrégé pour Bouton 3</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Item</th>
                                <th>Details</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Contenu dynamique sera ajouté par JavaScript -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Category Table Content -->
            <div id="tables" class="table-container">
                <div id="category1" class="category-table category1">
                    <h3>Tableau pour Catégorie 1</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Colonne A</th>
                                <th>Colonne B</th>
                                <th>Colonne C</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Cat1 Data A1</td>
                                <td>Cat1 Data B1</td>
                                <td>Cat1 Data C1</td>
                            </tr>
                            <tr>
                                <td>Cat1 Data A2</td>
                                <td>Cat1 Data B2</td>
                                <td>Cat1 Data C2</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div id="category2" class="category-table category2">
                    <h3>Tableau pour Catégorie 2</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Colonne D</th>
                                <th>Colonne E</th>
                                <th>Colonne F</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Cat2 Data D1</td>
                                <td>Cat2 Data E1</td>
                                <td>Cat2 Data F1</td>
                            </tr>
                            <tr>
                                <td>Cat2 Data D2</td>
                                <td>Cat2 Data E2</td>
                                <td>Cat2 Data F2</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div id="category3" class="category-table category3">
                    <h3>Tableau pour Catégorie 3</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Colonne G</th>
                                <th>Colonne H</th>
                                <th>Colonne I</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Cat3 Data G1</td>
                                <td>Cat3 Data H1</td>
                                <td>Cat3 Data I1</td>
                            </tr>
                            <tr>
                                <td>Cat3 Data G2</td>
                                <td>Cat3 Data H2</td>
                                <td>Cat3 Data I2</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Sample data for aggregation with unique values for each category
        const data = {
            1: {
                category1: [
                    { item: 'Cat1 Item A1', details: 'Cat1 Details A1' },
                    { item: 'Cat1 Item A2', details: 'Cat1 Details A2' }
                ],
                category2: [
                    { item: 'Cat1 Item B1', details: 'Cat1 Details B1' },
                    { item: 'Cat1 Item B2', details: 'Cat1 Details B2' }
                ],
                category3: [
                    { item: 'Cat1 Item C1', details: 'Cat1 Details C1' },
                    { item: 'Cat1 Item C2', details: 'Cat1 Details C2' }
                ]
            },
            2: {
                category1: [
                    { item: 'Cat2 Item A1', details: 'Cat2 Details A1' },
                    { item: 'Cat2 Item A2', details: 'Cat2 Details A2' }
                ],
                category2: [
                    { item: 'Cat2 Item B1', details: 'Cat2 Details B1' },
                    { item: 'Cat2 Item B2', details: 'Cat2 Details B2' }
                ],
                category3: [
                    { item: 'Cat2 Item C1', details: 'Cat2 Details C1' },
                    { item: 'Cat2 Item C2', details: 'Cat2 Details C2' }
                ]
            },
            3: {
                category1: [
                    { item: 'Cat3 Item A1', details: 'Cat3 Details A1' },
                    { item: 'Cat3 Item A2', details: 'Cat3 Details A2' }
                ],
                category2: [
                    { item: 'Cat3 Item B1', details: 'Cat3 Details B1' },
                    { item: 'Cat3 Item B2', details: 'Cat3 Details B2' }
                ],
                category3: [
                    { item: 'Cat3 Item C1', details: 'Cat3 Details C1' },
                    { item: 'Cat3 Item C2', details: 'Cat3 Details C2' }
                ]
            }
        };

        function showCombinedTables(buttonId) {
            // Hide all category tables
            document.querySelectorAll('.category-table').forEach(table => table.style.display = 'none');

            // Show aggregated tables for the selected button
            document.querySelectorAll('.aggregated-table').forEach(table => table.style.display = 'none');
            document.getElementById('aggregated' + buttonId).style.display = 'block';

            // Fetch and display aggregated data
            const aggregatedTableBody = document.querySelector('#aggregated' + buttonId + ' tbody');
            aggregatedTableBody.innerHTML = '';
            for (const category in data[buttonId]) {
                data[buttonId][category].forEach(item => {
                    const row = document.createElement('tr');
                    row.innerHTML = `<td>${item.item}</td><td>${item.details}</td>`;
                    aggregatedTableBody.appendChild(row);
                });
            }
        }

        function showCategories(categoryId) {
            // Hide all aggregated tables
            document.querySelectorAll('.aggregated-table').forEach(table => table.style.display = 'none');

            // Show category table for the selected category
            document.querySelectorAll('.category-table').forEach(table => table.style.display = 'none');
            document.getElementById('category' + categoryId).style.display = 'block';
        }

        // Show combined tables for default button on page load
        showCombinedTables(1);
    </script>
</body>
</html>
